@using OnlineShoppingLibrary;
@model ProductViewModel

@{

    ViewData["Title"] = "GetProducts";

    var productList = (List<ProductViewModel>)ViewData["products"];
}


@foreach (var p in productList)
{
    <div>


        <form asp-action="AddToCart" asp-controller="Product" method="post">
         <div class="col-sm-4">
                <div class="row">

                    <div class="col-sm-6">
                        <div class="card">
                            <div class="card-body">
                                <input type="hidden" name="ProductId" value="@p.ProductId" />
                                <label>@p.Title</label> <input type="hidden" name="Title" value="@p.Title" />

                                <img src="@p.Image" class="img-fluid img-thumbnail img-circle mx-auto d-block" style="width:120px;height:170px ; ">
                                <label>@p.Price</label> <input type="hidden" name="Price" value="@p.Price" />
                                <label>@p.CategoryId  </label>  <input type="hidden" name="CategoryId" value="@p.CategoryId" />
                                <label>@p.SubCategoryId </label>  <input type="hidden" name="SubCategoryId" value="@p.SubCategoryId" />


                                <input type="submit" value="Add to Cart" id="btnCart" />
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </form>
    </div>

    
}
@section Scripts
    {
    <script>
        $('#btnCart').click(function () {

            alert("Added to cart.");
        });
    </script>
}